#卡猫项目
文件目录说明:
> dist 

	- images
	-   **.js
	-   **.css
	-  vendor-manifest.json
	-  vendor.dll.js
 	       
> -src------

	 		|
	 		compoments
	 		|
	 		redux
	 		|
	 		router
	 		|
	 		app.jsx

-  --index.html
-  --webpack.config.dll.js 
-  --webpack.common.js
-  --webpack.config.prod.js
-  --webpack.config.test.js
-  --webpack.config.dev.js
-  --package.json

---------------------------------------------------------- ---------------------
 ------------------- ------------------- ---------------------------------------
 ------------------- ------------------- ---------------------------------------

 **# 环境和运行说明: #**

 	 a,

		第一次运行项目时,需 先 npm run dll ,
		一般仅需运行一次.除非更改公共打包的东西,见下文解释.
 	
 	 b, 本地开发  npm start ;
 	    测试打包  npm run test;
 	    预发及正式 npm run build;

---------------------------------------------------------- ---------------------
 ------------------- ------------------- ---------------------------------------
 ------------------- ------------------- ---------------------------------------
 **# 原理及相应代码解释: #**

为了在打包时不再去重新打包例如 react ,antd-mobile,jrbasic 等不变的框架\插件\公共api.

 1 
	
	运行npm run dll后会在dist文件夹生成vendor-manifest.json , vendor.dll.js(不可删,除非更改上述公共的东西,才需要重新打包);
 	并手动在根目标的index.html中引入 vendor.dll.js;

 2 

	common.js : 重用webpack公共的配置 ,然后在 各个环境的config.js里以webpack提供的merge组件 合并 ;另外承接 1 ,需要引入DllReferencePlugin插件,并在参数对象上引入已经有的vendor-manifest.json映射 .
 		
---------------------------------------------------------- ---------------------
 ------------------- ------------------- ---------------------------------------
 ------------------- ------------------- ---------------------------------------

# compoments  具体业务组件解释(一开始就拼写错单词,本来应该是	components): #

## 分两种: ##

 **一: 直接组件页面---- 主要包括了卡猫取现业务的中心逻辑**

     首页: encashmentIndex
     输入金额:swiperCard
     绑卡:oncard
     身份验证:cardidvalid
     身份确认:idconfirm
     下订单:confirmPay
     取现成功:cardResult
     test: 用来测试小功能,可以无视

 **二: 文件夹下的组件页面----- 对于模块和业务情况进行的分类,具体如下:**

     bannerJumpTpl : 本身主要为app上banner活动所需要的页面,包括理财,满减,口令红包
     cardTpl : 办信用卡模块,入口:首页的'办信用'
     mes:消息相关页面,入口:首页右上角
     mine :我的相关页面, 入口:首页左上角
     recommendTpl: 邀请模块
     textTpl : 一些说明页\规则页
     wxpageTpl: 本来为专门微信内的页面,目前只有一个(可合并到其他文件夹)
     initTpl:旧版本的老页面,目前没用引用
     common:公共的接口和方法,定义.
     plugins: 公共组件,目前为:模态框,头部title ,头部消息提醒 等

 ---------------------------------------------------------- --------------------
 ------------------- ------------------- ---------------------------------------
 ------------------- ------------------- ---------------------------------------
  
   # **细节及差异注意点:** #

  1 
	
	使用了antd-design 高清方案, <meta name="viewport"...  此标签为自动计算生成,不过依然是20px=1rem 的计算方式;相关页面会按需引入组件,如Toast;

  2 

	按需加载: 使用webpack 推荐的  require.ensure 配合 getComponent(); 详见 router.jsx;

  3 

	webpack 构建上,使用了 DllPlugin 方案搭配 webpack-merge 详情见官网或直接百度,有分别对应的教程;

  4
	
	 css 基本使用flex布局,注意点: 使用flex的元素下的直接子元素,需设置为:display :block ,否则会导致部分机型无视flex  ;
    目前所知,华为mate7 自带的浏览器(无法知道其内核和版本)上,无法使用flex ;

  5 

	在使用 jsbridge(frbridge) 上,卡猫并不适用,原因在于:使用的前期上,h5,与ios ,与android ,甚至两端之间都没有同步配置,导致新老版本的代码复杂度大量增加及使用上的
    不可避免的延迟,具体例子看const.jsx 和 fullBackAct.jsx   => getNew() 方法相关的代码

  6 

	TitleNav 组件的使用上: 本组件为基本所有页面所需要,复杂点在于:左上角的返回键上,需要适应各种不同的情况(因卡猫经过3个产品,所以在加需求上有一定断层),
    导致一个组件需要适应各个不同的返回情况
    ps: 登录页面login.jsx  路径地址上加?islogin=1 表示:登录后才会返回之前的页面

  7 
	
	本项目使用localStroge 本地存储,不使用 cookie

  8 

	~x.indexOf('a')   等价于   x.indexOf('a')>-1   即存在;
    !~x.indexOf('a')   等价于   x.indexOf('a')===-1   即不存在;

  9 

	目前默认使用post请求,只有confirmPay.jsx  中 发起消费接口使用的是get

  10

	公共的方法,如登录,判断平台,合并公共参数,发起请求,埋点,判断是否app内打开,都在const.jsx中


